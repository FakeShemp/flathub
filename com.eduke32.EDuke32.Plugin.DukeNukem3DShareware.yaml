id: com.eduke32.EDuke32.Plugin.DukeNukem3DShareware
branch: 1-3.32
runtime: com.eduke32.EDuke32
runtime-version: stable
sdk: org.gnome.Sdk//3.32
build-extension: true
separate-locales: false
appstream-compose: false
modules: 
  - name: DukeNukem3DShareware
    buildsystem: simple
    build-commands: 
      - unzip -Luq "DN3DSW13.SHR" defs.con duke.rts game.con user.con duke3d.grp
      - install -d ${FLATPAK_DEST}/extensions
      - install -m644 duke.rts {defs,game,user}.con duke3d.grp ${FLATPAK_DEST}/extensions
    post-install:
      - install -Dm644 --target-directory=${FLATPAK_DEST}/share/metainfo data/misc/com.eduke32.EDuke32.Plugin.DukeNukem3DShareware.appdata.xml
      - appstream-compose --basename=com.eduke32.EDuke32.Plugin.DukeNukem3DShareware --prefix=${FLATPAK_DEST} --origin=flatpak com.eduke32.EDuke32.Plugin.DukeNukem3DShareware
